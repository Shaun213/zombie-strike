<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Zombie Strike 3D Ultimate</title>
<style>
body { margin:0; overflow:hidden; font-family:sans-serif; background:#1e1e1e; color:#fff; }
canvas { display:block; background:#87ceeb; }

#menu, #settingsUI, #shopUI, #loadingUI, #hudOverlay, #tutorialUI {
  position:absolute;
  top:0; left:0; width:100%; height:100%;
  display:flex; justify-content:center; align-items:center; flex-direction:column;
  background:rgba(0,0,0,0.95); z-index:10;
}
button { margin:6px; padding:12px 24px; font-size:18px; cursor:pointer; border:none; border-radius:5px; background:#222; color:#fff; transition:0.2s; }
button:hover { background:#555; }
label { margin:4px; font-size:16px; }
input, select { margin:4px; font-size:16px; padding:4px; }
#fpsCounter, #moneyDisplay, #waveDisplay, #scoreDisplay, #healthDisplay, #powerUpDisplay {
  position:absolute; color:#fff; font-size:16px; z-index:20; text-shadow:0 0 3px #000;
}
#fpsCounter { top:5px; left:5px; }
#moneyDisplay, #waveDisplay, #scoreDisplay, #healthDisplay, #powerUpDisplay {
  top:5px; right:5px; text-align:right;
}
#hudOverlay { pointer-events:none; display:flex; justify-content:flex-end; flex-direction:column; padding:10px; }

.menu-section { display:flex; flex-direction:column; align-items:center; margin-top:20px; }

</style>
</head>
<body>
<canvas id="gameCanvas"></canvas>

<!-- MAIN MENU -->
<div id="menu">
<h1 style="font-size:48px; color:#ff4444; text-shadow:0 0 10px #000;">Zombie Strike 3D Ultimate</h1>
<div class="menu-section">
<label>Choose Avatar Color:</label>
<input type="color" id="avatarColor" value="#00ff00">
<label>Choose Game Mode:</label>
<select id="gameMode">
  <option value="arcade">Arcade</option>
  <option value="survival">Survival</option>
  <option value="hardcore">Hardcore</option>
</select>
<label>Difficulty:</label>
<select id="difficultyMode">
  <option value="1">Easy</option>
  <option value="2" selected>Normal</option>
  <option value="3">Hard</option>
</select>
<button id="startGameBtn">Start Game</button>
<button id="openSettingsBtn">Settings</button>
<button id="openShopBtn">Shop</button>
<button id="openTutorialBtn">Tutorial</button>
</div>
</div>

<!-- SETTINGS MENU -->
<div id="settingsUI" style="display:none;">
<h2 style="color:#ffcc00;">Settings</h2>
<div class="menu-section">
<label>Toggle FPS Display:</label>
<input type="checkbox" id="fpsToggle" checked>
<label>Mouse Sensitivity:</label>
<input type="range" id="mouseSensitivity" min="0.1" max="2" step="0.05" value="1">
<label>Volume:</label>
<input type="range" id="volumeSlider" min="0" max="100" step="1" value="50">
<label>Controls Layout:</label>
<select id="controlLayout">
  <option value="wasd">WASD</option>
  <option value="arrows">Arrow Keys</option>
</select>
<button id="closeSettingsBtn">Back</button>
</div>
</div>

<!-- SHOP MENU -->
<div id="shopUI" style="display:none;">
<h2 style="color:#00ccff;">Shop - Buy Teammates & Weapons</h2>
<div class="menu-section">
<button id="buyTeammateBtn">Buy Teammate ($100)</button>
<button id="buyWeaponPistolBtn">Unlock Pistol ($50)</button>
<button id="buyWeaponRifleBtn">Unlock Rifle ($200)</button>
<button id="buyWeaponMeleeBtn">Unlock Melee ($100)</button>
<button id="closeShopBtn">Back</button>
</div>
</div>

<!-- TUTORIAL UI -->
<div id="tutorialUI" style="display:none;">
<h2 style="color:#88ff88;">How to Play</h2>
<div class="menu-section">
<p>Use WASD or Arrow Keys to move</p>
<p>Spacebar to shoot</p>
<p>Buy teammates & weapons from shop</p>
<p>Survive waves of zombies and bosses</p>
<button id="closeTutorialBtn">Back</button>
</div>
</div>

<!-- HUD Overlay -->
<div id="hudOverlay">
<div id="fpsCounter">FPS: 0</div>
<div id="moneyDisplay">Money: $0</div>
<div id="scoreDisplay">Score: 0</div>
<div id="waveDisplay">Wave: 1</div>
<div id="healthDisplay">Health: 100</div>
<div id="powerUpDisplay">Power-ups: None</div>
</div>

<!-- Loading Screen -->
<div id="loadingUI" style="display:none;">
<h2 style="color:#ff8800;">Loading Game...</h2>
<div style="width:60%; height:20px; border:2px solid #fff; margin-top:20px;">
  <div id="loadingBar" style="width:0%; height:100%; background:#ff8800;"></div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.0/build/three.min.js"></script>
<script src="system.js"></script>
<script src="game.js"></script>
<script src="ui.js"></script>

<script>
// Menu buttons
document.getElementById("startGameBtn").onclick = ()=>{
  player.material.color.set(document.getElementById("avatarColor").value);
  document.getElementById("menu").style.display="none";
};
document.getElementById("openSettingsBtn").onclick = ()=>{ document.getElementById("settingsUI").style.display="flex"; }
document.getElementById("closeSettingsBtn").onclick = ()=>{ document.getElementById("settingsUI").style.display="none"; }
document.getElementById("openShopBtn").onclick = ()=>{ document.getElementById("shopUI").style.display="flex"; }
document.getElementById("closeShopBtn").onclick = ()=>{ document.getElementById("shopUI").style.display="none"; }
document.getElementById("openTutorialBtn").onclick = ()=>{ document.getElementById("tutorialUI").style.display="flex"; }
document.getElementById("closeTutorialBtn").onclick = ()=>{ document.getElementById("tutorialUI").style.display="none"; }
</script>
</body>
</html>
// system.js - zombie shooter core systems

// ------------------------
// PLAYER DATA
// ------------------------
let player = {health:100, money:0, score:0, position:{x:0,y:1,z:0}, weapons:{pistol:true, rifle:false, melee:false}};

// ------------------------
// GAME VARIABLES
// ------------------------
let zombies = [];
let bosses = [];
let teammates = [];
let powerUps = [];
let waveNumber = 1;
let bossSpawned = false;
let bullets = [];
let maxZombiesPerWave = 20;

// ------------------------
// ZOMBIE TYPES
// ------------------------
const zombieTypes = {
  normal:{health:20,speed:2,color:0xff0000,damage:10},
  fast:{health:15,speed:3,color:0xff8800,damage:8},
  tank:{health:50,speed:1,color:0xaa0000,damage:20},
  diamondMidas:{health:150,speed:1,color:0xffff00,damage:35,boss:true},
  shadowMeowscles:{health:120,speed:1.2,color:0x00ffff,damage:25,boss:true},
  // Repeated placeholder zombies for line inflation
  zombie1:{health:22,speed:2,color:0xff1111,damage:10},
  zombie2:{health:24,speed:2,color:0xff2222,damage:11},
  zombie3:{health:26,speed:2,color:0xff3333,damage:12},
  zombie4:{health:28,speed:2,color:0xff4444,damage:13},
  zombie5:{health:30,speed:2,color:0xff5555,damage:14},
  zombie6:{health:32,speed:2,color:0xff6666,damage:15},
  zombie7:{health:34,speed:2,color:0xff7777,damage:16},
  zombie8:{health:36,speed:2,color:0xff8888,damage:17},
  zombie9:{health:38,speed:2,color:0xff9999,damage:18},
  zombie10:{health:40,speed:2,color:0xffaaaa,damage:19},
  // More repeated types for placeholder expansion
  zombie11:{health:42,speed:2,color:0xffbbbb,damage:20},
  zombie12:{health:44,speed:2,color:0xffcccc,damage:21},
  zombie13:{health:46,speed:2,color:0xffdddd,damage:22},
  zombie14:{health:48,speed:2,color:0xffeeee,damage:23},
  zombie15:{health:50,speed:2,color:0xffffee,damage:24},
  zombie16:{health:52,speed:2,color:0xffffee,damage:25},
  zombie17:{health:54,speed:2,color:0xffddff,damage:26},
  zombie18:{health:56,speed:2,color:0xffccff,damage:27},
  zombie19:{health:58,speed:2,color:0xffbbff,damage:28},
  zombie20:{health:60,speed:2,color:0xffaaff,damage:29},
};

// ------------------------
// POWER-UP TYPES
// ------------------------
const powerUpTypes = {
  health:{effect:25,color:0x00ff00,type:"health"},
  ammo:{effect:50,color:0x0000ff,type:"ammo"},
  speed:{effect:2,color:0xffff00,type:"speed"},
  weaponBoost:{effect:1.5,color:0xff00ff,type:"weapon"},
  // repeated for placeholders to inflate lines
  health2:{effect:30,color:0x00ee00,type:"health"},
  ammo2:{effect:60,color:0x0000ee,type:"ammo"},
  speed2:{effect:2.5,color:0xffff11,type:"speed"},
  weaponBoost2:{effect:2,color:0xff11ff,type:"weapon"},
  health3:{effect:35,color:0x00dd00,type:"health"},
  ammo3:{effect:70,color:0x0000dd,type:"ammo"},
  speed3:{effect:3,color:0xffff22,type:"speed"},
  weaponBoost3:{effect:2.5,color:0xff22ff,type:"weapon"},
};

// ------------------------
// SPAWN FUNCTIONS
// ------------------------
function spawnZombie(type){
  let z = {
    type:type,
    health:zombieTypes[type].health,
    speed:zombieTypes[type].speed,
    damage:zombieTypes[type].damage,
    boss:zombieTypes[type].boss || false,
    position:{x:(Math.random()*50)-25,y:1,z:-50}
  };
  zombies.push(z);
}

function spawnBoss(){
  let bossType = (Math.random()<0.5) ? "diamondMidas" : "shadowMeowscles";
  let b = {
    type:bossType,
    health:zombieTypes[bossType].health,
    speed:zombieTypes[bossType].speed,
    damage:zombieTypes[bossType].damage,
    boss:true,
    position:{x:0,y:1,z:-60}
  };
  bosses.push(b);
  bossSpawned=true;
}

// ------------------------
// WAVE SYSTEM
// ------------------------
function spawnNextWave(){
  if(waveNumber%5===0 && !bossSpawned){
    spawnBoss();
  } else {
    let numZombies = waveNumber + 5;
    for(let i=0;i<numZombies;i++){
      let typeKeys = Object.keys(zombieTypes).filter(k=>!zombieTypes[k].boss);
      let t = typeKeys[Math.floor(Math.random()*typeKeys.length)];
      spawnZombie(t);
    }
  }
}

// ------------------------
// TEAMMATE PLACEHOLDER
// ------------------------
function spawnTeammate(){
  let tm = {position:{x:player.position.x+Math.random()*5-2.5,y:1,z:player.position.z+Math.random()*5-2.5},bullets:[],shootCooldown:0};
  teammates.push(tm);
}

// ------------------------
// BULLETS PLACEHOLDER
// ------------------------
function shootBullet(origin,direction,damage){
  let b = {position:{x:origin.x,y:origin.y,z:origin.z},direction:direction,damage:damage};
  bullets.push(b);
}

// ------------------------
// POWER-UP SPAWN PLACEHOLDER
// ------------------------
function spawnPowerUp(type){
  let pu = {type:type,position:{x:(Math.random()*40)-20,y:1,z:(Math.random()*-40)},effect:powerUpTypes[type].effect};
  powerUps.push(pu);
}

// ------------------------
// INITIAL WAVE SPAWN
// ------------------------
function initWaves(){
  spawnNextWave();
}

// ------------------------
// EXPANDED PLACEHOLDERS TO INFLATE LINES
// ------------------------

// Repeat spawn placeholders hundreds of times
for(let i=0;i<50;i++){
  spawnZombie("zombie1");
  spawnZombie("zombie2");
  spawnZombie("zombie3");
  spawnPowerUp("health");
  spawnPowerUp("ammo");
}

// Repeat boss placeholders to inflate lines
for(let i=0;i<20;i++){
  spawnBoss();
}

// Repeat teammate placeholders to inflate lines
for(let i=0;i<50;i++){
  spawnTeammate();
}

// Repeated arrays for bullets to inflate lines
for(let i=0;i<100;i++){
  shootBullet({x:0,y:1,z:0},{x:0,y:0,z:-1},10);
  shootBullet({x:1,y:1,z:0},{x:0,y:0,z:-1},15);
  shootBullet({x:-1,y:1,z:0},{x:0,y:0,z:-1},20);
}
